# 🎮 테트리스 게임

모바일 지원, 랭킹 시스템, 광고 연동을 갖춘 완전한 테트리스 게임입니다.

![테트리스 게임 스크린샷](https://via.placeholder.com/600x400/4a90e2/ffffff?text=Tetris+Game+Screenshot)

## ✨ 주요 기능

### 🎯 게임 기능
- **클래식 테트리스 게임플레이**: 7가지 테트리스 블록 (I, O, T, S, Z, J, L)
- **레벨 시스템**: 점수에 따른 자동 레벨업, 속도 증가
- **라인 클리어**: 1-4줄 동시 클리어 지원
- **고스트 피스**: 블록이 떨어질 위치 미리 보기
- **점수 시스템**: 레벨별 점수 배율 적용

### 📱 모바일 지원
- **터치 컨트롤**: 
  - 짧은 터치 = 블록 회전
  - 드래그 = 블록 좌우 이동
  - 아래로 스와이프 = 하드드롭
- **반응형 디자인**: 모든 화면 크기에 최적화
- **모바일 전용 컨트롤 버튼**: 회전, 하드드롭 버튼 제공
- **모바일 게임 오버 팝업**: 모바일에서 게임 오버 시 전체 화면 팝업으로 표시
- **전체화면 모드**: PC와 모바일 환경에 맞게 최적화된 전체화면 게임 플레이

### 🏆 랭킹 시스템
- **온라인 랭킹**: 서버 기반 글로벌 랭킹 시스템
- **실시간 경쟁**: 전 세계 플레이어들과 실시간 순위 경쟁
- **오프라인 백업**: 서버 연결 실패 시 로컬 랭킹으로 자동 전환
- **상태 표시**: 온라인/오프라인 상태를 시각적으로 표시
- **플레이어 통계**: 개인 최고 기록, 평균 점수 등
- **닉네임 지원**: 최대 20자까지 닉네임 입력

### 🎵 사운드 시스템
- **배경음악**: 레벨별로 다른 BGM (3단계)
- **효과음**: 
  - 라인 클리어 사운드
  - 레벨업 사운드
  - 블록 드롭/회전 사운드
  - 게임 오버 사운드
- **음량 조절**: BGM과 효과음 개별 조절
- **음소거 기능**: 한 번의 클릭으로 모든 소리 끄기/켜기

### 💰 광고 연동
- **Google AdSense 통합**: 제공된 광고 코드 사용
- **게임 오버 후 이어하기**: 광고 시청 후 게임 계속 진행 가능
- **모바일 최적화**: 모바일에서는 팝업 형태로 광고 표시
- **비간섭적 광고 배치**: 게임 플레이를 방해하지 않는 위치

### 🎨 시각적 효과
- **그라데이션 배경**: 아름다운 색상 그라데이션
- **블록 애니메이션**: 부드러운 블록 이동 효과
- **라인 클리어 효과**: 깜빡임 애니메이션
- **글로우 효과**: 제목과 중요 요소에 빛나는 효과

## 🚀 빠른 시작

### 방법 1: 자동 스크립트 사용 (권장)

**Windows:**
```bash
start-server.bat
```

**Linux/macOS:**
```bash
chmod +x start-server.sh
./start-server.sh
```

### 방법 2: 수동 설치

**Python 서버 (가장 간단):**
```bash
cd tetris-game
python3 -m http.server 8080
```
브라우저에서 `http://localhost:8080` 접속

**Node.js 서버:**
```bash
cd tetris-game
npm install
npm start
```
브라우저에서 `http://localhost:3000` 접속

## 🔧 서버 배포

### 오라클 우분투 서버 배포

1. **파일 업로드:**
```bash
scp -r tetris-game/ ubuntu@your-server-ip:/var/www/html/
```

2. **Apache 설정:**
```bash
sudo apt update
sudo apt install apache2
sudo systemctl start apache2
sudo chown -R www-data:www-data /var/www/html/tetris-game/
sudo chmod -R 755 /var/www/html/tetris-game/
```

3. **브라우저 접속:**
```
http://your-server-ip/tetris-game/
```

자세한 배포 가이드는 [SERVER_SETUP.md](SERVER_SETUP.md)를 참고하세요.

## 🎮 게임 조작법

### 키보드 (데스크탑)
- `←/→ 화살표`: 블록 좌우 이동
- `↓ 화살표`: 블록 빠르게 내리기
- `↑ 화살표` 또는 `스페이스바`: 블록 회전
- `Enter`: 하드드롭 (즉시 떨어뜨리기)

### 터치 (모바일)
- **짧은 터치**: 블록 회전
- **좌우 드래그**: 블록 이동
- **아래로 스와이프**: 하드드롭
- **컨트롤 버튼**: 회전, 하드드롭 버튼 사용

### 게임 메뉴
- **일시정지**: 게임 중 일시정지 버튼 클릭
- **전체화면**: 전체화면 버튼 클릭으로 몰입형 게임 플레이
- **음소거**: 우상단 스피커 아이콘 클릭
- **랭킹 확인**: 시작 화면에서 온라인/오프라인 랭킹 섹션 확인

## 📁 프로젝트 구조

```
tetris-game/
├── index.html              # 메인 HTML 파일
├── css/
│   └── style.css           # 스타일시트
├── js/
│   ├── tetris.js          # 메인 게임 로직
│   ├── sound.js           # 사운드 관리
│   └── ranking.js         # 랭킹 시스템
├── audio/                  # 음성 파일들
│   ├── bgm1.mp3           # 배경음악 1
│   ├── bgm2.mp3           # 배경음악 2
│   ├── bgm3.mp3           # 배경음악 3
│   ├── line-clear.mp3     # 라인 클리어 효과음
│   ├── game-over.mp3      # 게임 오버 효과음
│   ├── level-up.mp3       # 레벨업 효과음
│   ├── piece-drop.mp3     # 블록 드롭 효과음
│   ├── piece-rotate.mp3   # 블록 회전 효과음
│   └── pause.mp3          # 일시정지 효과음
├── server.js              # Node.js 서버 파일
├── package.json           # Node.js 의존성
├── .htaccess             # Apache 설정
├── start-server.sh       # Linux 시작 스크립트
├── start-server.bat      # Windows 시작 스크립트
└── SERVER_SETUP.md       # 서버 배포 가이드
```

## 🎵 음성 파일 교체

현재 더미 음성 파일들이 포함되어 있습니다. 실제 게임에서는 다음과 같이 교체하세요:

1. **무료 음원 사이트에서 다운로드:**
   - [Freesound.org](https://freesound.org)
   - [Zapsplat.com](https://zapsplat.com)
   - [YouTube Audio Library](https://www.youtube.com/audiolibrary)

2. **파일 형식**: MP3 권장 (128kbps 이상)

3. **파일명 유지**: 기존 파일명과 동일하게 유지

4. **길이 가이드:**
   - BGM: 2-4분 (루프 재생)
   - 효과음: 1-3초

## 🔒 보안 및 성능

### 보안 기능
- XSS 보호 헤더
- 콘텐츠 타입 검증
- 프레임 옵션 설정
- CSRF 보호

### 성능 최적화
- Gzip 압축 활성화
- 정적 파일 캐싱
- 이미지 최적화
- 코드 최소화

## 🐛 문제 해결

### 음성이 재생되지 않음
- HTTPS 사용 (일부 브라우저에서 HTTP에서 자동 재생 제한)
- 사용자 상호작용 후 음성 재생 시작
- 브라우저의 자동 재생 정책 확인

### 터치가 작동하지 않음
- viewport 메타 태그 확인
- 터치 이벤트 preventDefault() 호출 확인
- 모바일 브라우저에서 테스트

### 랭킹이 저장되지 않음
- 인터넷 연결 상태 확인 (온라인 랭킹)
- 로컬 스토리지 지원 브라우저 사용 (오프라인 백업)
- 개인정보 보호 모드가 아닌지 확인
- 쿠키/스토리지 차단 설정 확인
- 서버 상태 확인 (온라인 랭킹이 작동하지 않는 경우)

### 전체화면이 작동하지 않음
- 최신 브라우저 사용 (Chrome, Firefox, Safari, Edge)
- 사용자 상호작용 후 전체화면 요청
- F11 키로 브라우저 전체화면과 구분
- 일부 모바일 브라우저에서는 제한적 지원

## 📄 라이센스

MIT License - 자유롭게 사용, 수정, 배포 가능합니다.

## 🤝 기여하기

1. 이 저장소를 포크하세요
2. 새 기능 브랜치를 만드세요 (`git checkout -b feature/새기능`)
3. 변경사항을 커밋하세요 (`git commit -am '새 기능 추가'`)
4. 브랜치에 푸시하세요 (`git push origin feature/새기능`)
5. Pull Request를 만드세요

## 📞 지원

문제가 있거나 질문이 있으시면:
- 이슈를 생성하세요
- 이메일로 연락하세요
- 문서를 확인하세요

---

🎮 **즐거운 테트리스 게임 되세요!** 🎮