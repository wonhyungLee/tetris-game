<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>테트리스 게임</title>
    <link rel="stylesheet" href="css/style.css?v=2.1">
    
    <!-- Google AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9238912314245514"
         crossorigin="anonymous"></script>
</head>
<body>
    <div class="container">
        <!-- 게임 시작 화면 -->
        <div id="startScreen" class="screen">
            <div class="start-content">
                <h1>테트리스</h1>
                <div class="nickname-input">
                    <input type="text" id="nicknameInput" placeholder="닉네임을 입력하세요" maxlength="10">
                    <button id="startBtn">게임 시작</button>
                </div>
                <div class="ranking-section">
                    <h3>랭킹</h3>
                    <div id="rankingList"></div>
                </div>
            </div>
        </div>

        <!-- 게임 화면 -->
        <div id="gameScreen" class="screen hidden">
            <div class="game-header">
                <div class="player-info">
                    <span id="playerName"></span>
                    <div class="header-buttons">
                        <button id="fullscreenBtn" title="전체화면">⛶</button>
                        <button id="pauseBtn">일시정지</button>
                    </div>
                </div>
            </div>
            
            <div class="game-container">
                <div class="game-area">
                    <div class="side-panel left">
                        <div class="next-piece">
                            <h4>다음 블록</h4>
                            <canvas id="nextCanvas" width="60" height="60"></canvas>
                        </div>
                        <div class="game-stats">
                            <div class="stat-item">점수<br><span id="score">0</span></div>
                            <div class="stat-item">레벨<br><span id="level">1</span></div>
                            <div class="stat-item">라인<br><span id="lines">0</span></div>
                        </div>
                    </div>
                    
                    <div class="game-board">
                        <canvas id="gameCanvas" width="300" height="600"></canvas>
                    </div>
                </div>
                
                <!-- 모바일 컨트롤 (하단) -->
                <div class="mobile-controls">
                    <button id="rotateBtn" class="control-btn">회전</button>
                    <button id="dropBtn" class="control-btn">하드드롭</button>
                </div>
                
                <!-- 광고 영역 (최하단) -->
                <div class="ad-section">
                    <ins class="adsbygoogle ad-container"
                         style="display:block"
                         data-ad-client="ca-pub-9238912314245514"
                         data-ad-slot="1234567890"
                         data-ad-format="auto"
                         data-full-width-responsive="true"></ins>
                </div>
            </div>
        </div>

        <!-- 게임 오버 화면 -->
        <div id="gameOverScreen" class="screen hidden">
            <h2>게임 오버!</h2>
            <div class="final-score">
                <p>최종 점수: <span id="finalScore"></span></p>
                <p>레벨: <span id="finalLevel"></span></p>
            </div>
            
            <div class="continue-section">
                <p>광고를 시청하고 이어서 플레이하시겠습니까?</p>
                <button id="watchAdBtn">광고 시청하고 계속하기</button>
                <button id="newGameBtn">새 게임</button>
                <button id="backToMenuBtn">메인 메뉴</button>
            </div>
            
            <!-- 광고 영역 -->
            <div id="adSection" class="hidden">
                <ins class="adsbygoogle"
                     style="display:block"
                     data-ad-client="ca-pub-9238912314245514"
                     data-ad-slot="1234567890"
                     data-ad-format="auto"
                     data-full-width-responsive="true"></ins>
                <button id="continueAfterAdBtn" class="hidden">광고 시청 완료 - 게임 계속하기</button>
            </div>
        </div>

        <!-- 모바일 게임 오버 팝업 -->
        <div id="mobileGameOverPopup" class="mobile-popup hidden">
            <div class="popup-overlay"></div>
            <div class="popup-content">
                <h2>게임 오버!</h2>
                <div class="final-score">
                    <p>최종 점수: <span id="mobileFinalScore"></span></p>
                    <p>레벨: <span id="mobileFinalLevel"></span></p>
                </div>
                
                <div class="continue-section">
                    <p>광고를 시청하고 이어서 플레이하시겠습니까?</p>
                    <button id="mobileWatchAdBtn">광고 시청하고 계속하기</button>
                    <button id="mobileNewGameBtn">새 게임</button>
                    <button id="mobileBackToMenuBtn">메인 메뉴</button>
                </div>
                
                <!-- 모바일 광고 영역 -->
                <div id="mobileAdSection" class="hidden">
                    <ins class="adsbygoogle mobile-ad"
                         style="display:block"
                         data-ad-client="ca-pub-9238912314245514"
                         data-ad-slot="1234567890"
                         data-ad-format="rectangle"
                         data-full-width-responsive="true"></ins>
                    <button id="mobileContinueAfterAdBtn" class="hidden">광고 시청 완료 - 게임 계속하기</button>
                </div>
            </div>
        </div>

        <!-- 일시정지 화면 -->
        <div id="pauseScreen" class="screen hidden">
            <h2>일시정지</h2>
            <button id="resumeBtn">게임 재개</button>
            <button id="quitBtn">게임 종료</button>
        </div>
    </div>

    <!-- 사운드 컨트롤 -->
    <div class="sound-controls">
        <button id="soundToggle">🔊</button>
    </div>

    <script src="js/sound.js"></script>
    <script src="js/ranking.js"></script>
    <script src="js/tetris.js"></script>
    
    <script>
        // AdSense 초기화
        (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
</body>
</html>